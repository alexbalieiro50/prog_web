<!-- Menu Principal -->
<main>

    <div class="barra-sair">
        <a href="" id="logout">
            <i class="fa-solid fa-arrow-right-from-bracket"></i>
            <p>Sair</p>
        </a>
    </div>
    <div class="painel-principal">
        <div class="user-panel1">
            <div class="user-panel">
                <a href="/adm">
                    <div class="item-painel">
                        <i class="fa-solid fa-laptop-file"></i>
                        <h3>Painel</h3>
                    </div>
                </a>
                <a href="/pedidos">
                    <div class="item-painel">
                        <i class="fa-solid fa-basket-shopping"></i>
                        <h3>Pedidos</h3>
                    </div>
                </a>
                <a href="/editar">
                    <div class="item-painel">
                        <i class="fa-solid fa-cart-plus"></i>
                        <h3>Add Produto</h3>
                    </div>
                </a>
                <a href="/listaProduto">
                    <div class="item-painel">
                        <i class="fa-solid fa-file-pen"></i>
                        <h3>Listar Produto</h3>
                    </div>
                </a>

            </div>

            <div id="linha-vertical"></div>

            <div class="addprodutos">
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nome</th>
                            <th>Preço</th>
                            <th>Quantidade</th>
                            <th>Categoria</th>
                            <th>Fornecedor</th>
                            <th>Ações</th> <!-- Cabeçalho para os botões de ação -->
                        </tr>
                    </thead>
                    <tbody>
                        {{#each produtos}}
                        <tr>
                            <td>{{id}}</td>
                            <td>{{nome}}</td>
                            <td>{{preco}}</td>
                            <td>{{quantidade}}</td>
                            <td>{{categoria}}</td>
                            <td>{{fornecedor}}</td>
                            <td>
                                <!-- Botões de ação -->
                                <a href="/editarProduto/{{id}}">Editar</a> <!-- Link para a página de edição -->
                                <form action="/removerProduto/{{id}}" method="post">
                                    <button type="submit">Remover</button> <!-- Botão para remover o produto -->
                                </form>
                            </td>
                        </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>

        </div>

</main>
<!-- Fim Menu Pincipal-->
<script>
    // JavaScript
    document.getElementById('logout').addEventListener('click', function (event) {
        event.preventDefault(); // Evita que o link execute a ação padrão de navegação

        // Realiza a ação de logout
        // Por exemplo, limpar a sessão, redirecionar para a página de login, etc.
        // Neste exemplo, vamos apenas redirecionar para a página inicial
        window.location.href = '/'; // Redireciona para a página inicial
    });

</script>

<script>
    // Dados dos produtos (exemplo)
    const produtos = [
        { nome: 'Leite', quantidade: 15, fornecedor: 'D. Novinha' },
        { nome: 'Pão', quantidade: 20, fornecedor: 'Padaria XYZ' }
    ];

    // Função para carregar os produtos na tabela
    function carregarProdutos() {
        const produtoTable = document.getElementById('produtoTable');
        // Limpa a tabela antes de adicionar os novos dados
        produtoTable.innerHTML = `
                <tr>
                    <th>Nome</th>
                    <th>Quantidade</th>
                    <th>Fornecedor</th>
                    <th>Ações</th>
                </tr>
            `;
        // Adiciona os produtos na tabela
        produtos.forEach(produto => {
            const newRow = produtoTable.insertRow();
            newRow.innerHTML = `
                    <td class="celula">${produto.nome}</td>
                    <td class="celula">${produto.quantidade}</td>
                    <td class="celula">${produto.fornecedor}</td>
                    <td><a href="">Remover</a> | <a href="">Editar</a></td>
                `;
        });
    }

    // Carrega os produtos quando a página é carregada
    window.onload = carregarProdutos;
</script>